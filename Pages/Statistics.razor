@page "/statistics"

<h3>Raw JSON Data from results.json:</h3>

@if (JsonContent != null)
{
    <pre>
        @JsonContent
        </pre>
}
else
{
    <p>No data available.</p>
}

@code {
    private string JsonContent { get; set; }

    protected override async Task OnInitializedAsync()
    {
        try
        {
            string filePath = "results.json"; // Check if the file is in the correct directory relative to the Razor component

            // Log the file path to ensure it's correct
            Console.WriteLine($"File path: {filePath}");

            if (System.IO.File.Exists(filePath))
            {
                // Read JSON content from the file
                JsonContent = await System.IO.File.ReadAllTextAsync(filePath);
            }
            else
            {
                // Log a message if the file does not exist
                Console.WriteLine($"File does not exist at path: {filePath}");
            }
        }
        catch (Exception ex)
        {
            // Log any exceptions that occur during file reading
            Console.WriteLine($"Error: {ex.Message}");
        }
    }
}
